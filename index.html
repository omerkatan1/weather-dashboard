<!DOCTYPE html>
<html>

<head>
    <title>Weather Dashboard</title>

    <!-- linking css sheet -->
    <link rel="stylesheet" href="Assets/style.css">

    <!-- jquery link -->
    <script src="https://code.jquery.com/jquery-3.4.1.js"
        integrity="sha256-WpOohJOqMqqyKL9FccASB9O0KwACQJpFTUBLTYOVvVU=" crossorigin="anonymous"></script>

    <!-- bootstrap link -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
        integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">

    <!-- linking moments.js -->
    <script src="https://momentjs.com/downloads/moment.js"></script>


</head>

<!-- header -->
<header class="container-fluid">

    <div class="row">

        <div id="header-box" class="col-12">

            <h1 id="header-title">Weather Dashboard</h1>

        </div>

    </div>

</header>








<div id="currentWeatherBox">

    <image id="iconHolder"></image>
    <h4 id="date"></h1>
    <h1 id="city"></h1>
    <h1 id="temp"></h1>
    <h1 id="humidity"></h1>
    <h4 id="windspeed"></h1>
    <h1 id="UVindex"></h1>

</div>



<div id="searchBox">
    <input type="text" id="cityNameSearch" placeholder="Ex: London, UK">
    <button id="cityNameSubmit">Submit</button>
</div>





<script>



    // EVERYTHING TO DO WITH THE WEATHER API


    // current weather

    var key = "f2c5c8025ab4a4cc77dc112a270a04b9";

    $("#cityNameSubmit").click(function () {

        var city = $("#cityNameSearch").val();
        currentWeatherURL = "https://api.openweathermap.org/data/2.5/weather?q=" + city + "&units=imperial&appid=" + key;


        $.ajax({
            url: currentWeatherURL,
            method: "GET"
        }).then(function (response) {
            console.log(response);


            // city name stuff
            var getCity = response.name;
            $("#city").empty();
            $("#city").append(getCity);

            // data and time stuff
            var getDate = moment().format('ll');
            $("#date").empty();
            $("#date").append(getDate);

            // temp stuff
            var getTemp = parseInt(response.main.temp);
            $("#temp").empty();
            $("#temp").append(getTemp + " Â°F");

            //wind speed stuff
            var getSpeed = response.wind.speed;
            $("#windspeed").empty();
            $("#windspeed").append("Windspeed: " + getSpeed + " mph");

            // icon stuff
            var getIconURL = "http://openweathermap.org/img/wn/" + response.weather[0].icon + "@2x.png";
            $("#iconHolder").attr("src", getIconURL);




        });

    });

</script>

</html>